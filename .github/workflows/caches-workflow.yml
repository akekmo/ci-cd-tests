name: cache workflow
on: 
    workflow_dispatch:

jobs:
    npm_cache:
        runs-on: ubuntu-latest
        steps: 
            - name: checkout codes
              uses: actions/checkout@v4
            - name : add cache
              id: add-cache
              uses: actions/cache@v3
              with:
                path: ~/.npm
                key: "npm-cache"
            - name: print cache details
              run: echo '${{  toJson(steps.add-cache.outputs)  }}'
            - name: install npm packages
              run: npm install
            - name: use axios
              uses: actions/github-script@v7
              with :
                script: |
                 const axios = require('axios');
                 res = await axios.get('https://icanhazdadjoke.com/', {headers:{Accept:'text/plain'}})
                 console.log(res.data)